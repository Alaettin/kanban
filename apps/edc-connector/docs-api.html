<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EDC Management API v3 — Referenz</title>
  <style>
    :root {
      --bg: #0A0E17;
      --surface: #111827;
      --surface-2: #1F2937;
      --text: #E5E7EB;
      --text-2: #9CA3AF;
      --muted: #6B7280;
      --provider: #38BDF8;
      --consumer: #FB923C;
      --border: #1E293B;
      --border-2: #334155;
      --success: #34D399;
      --warning: #FBBF24;
      --danger: #F87171;
      --method-get: #34D399;
      --method-post: #60A5FA;
      --method-delete: #F87171;
      --json-key: #7DD3FC;
      --json-string: #86EFAC;
      --json-type: #FCD34D;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* ── Sticky Header ── */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 28px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(12px);
    }

    .header-back {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 8px;
      background: var(--surface-2);
      border: 1px solid var(--border-2);
      color: var(--text-2);
      text-decoration: none;
      transition: background .15s, color .15s, border-color .15s;
      flex-shrink: 0;
    }
    .header-back:hover {
      background: var(--border-2);
      color: var(--text);
      border-color: var(--muted);
    }
    .header-back svg { width: 18px; height: 18px; }

    .header-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      letter-spacing: -0.01em;
    }

    .header-subtitle {
      font-size: 13px;
      color: var(--muted);
      margin-left: auto;
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
    }

    /* ── Layout ── */
    .layout {
      display: flex;
      min-height: calc(100vh - 65px);
    }

    /* ── Sidebar ── */
    .sidebar {
      position: sticky;
      top: 65px;
      width: 280px;
      min-width: 280px;
      height: calc(100vh - 65px);
      overflow-y: auto;
      padding: 20px 0;
      background: var(--surface);
      border-right: 1px solid var(--border);
    }

    .sidebar::-webkit-scrollbar { width: 4px; }
    .sidebar::-webkit-scrollbar-track { background: transparent; }
    .sidebar::-webkit-scrollbar-thumb { background: var(--border-2); border-radius: 4px; }

    .sidebar-group { margin-bottom: 8px; }

    .sidebar-group-title {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 20px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
    }

    .sidebar-role-badge {
      font-size: 9px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 4px;
      letter-spacing: 0.04em;
    }
    .sidebar-role-badge.provider {
      background: rgba(56, 189, 248, 0.12);
      color: var(--provider);
    }
    .sidebar-role-badge.consumer {
      background: rgba(251, 146, 60, 0.12);
      color: var(--consumer);
    }

    .sidebar-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 7px 20px 7px 28px;
      font-size: 13px;
      color: var(--text-2);
      text-decoration: none;
      transition: color .15s, background .15s;
      border-left: 2px solid transparent;
    }
    .sidebar-link:hover {
      color: var(--text);
      background: rgba(255,255,255,0.03);
    }
    .sidebar-link.active {
      color: var(--text);
      border-left-color: var(--provider);
      background: rgba(56, 189, 248, 0.05);
    }

    .sidebar-method {
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      font-size: 10px;
      font-weight: 700;
      padding: 2px 5px;
      border-radius: 3px;
      min-width: 36px;
      text-align: center;
      flex-shrink: 0;
    }
    .sidebar-method.get    { background: rgba(52,211,153,0.15); color: var(--method-get); }
    .sidebar-method.post   { background: rgba(96,165,250,0.15); color: var(--method-post); }
    .sidebar-method.delete { background: rgba(248,113,113,0.15); color: var(--method-delete); }

    /* ── Main Content ── */
    .main {
      flex: 1;
      padding: 32px 40px 80px;
      max-width: 900px;
      min-width: 0;
    }

    /* ── Info Banner ── */
    .info-banner {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px 18px;
      background: rgba(56, 189, 248, 0.06);
      border: 1px solid rgba(56, 189, 248, 0.15);
      border-radius: 10px;
      margin-bottom: 36px;
    }
    .info-banner svg {
      width: 18px;
      height: 18px;
      color: var(--provider);
      flex-shrink: 0;
      margin-top: 2px;
    }
    .info-banner p {
      font-size: 13px;
      color: var(--text-2);
      line-height: 1.55;
    }

    /* ── Section ── */
    .section {
      margin-bottom: 48px;
    }

    .section-heading {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }
    .section-heading h2 {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .role-badge {
      font-size: 11px;
      font-weight: 600;
      padding: 3px 10px;
      border-radius: 6px;
      letter-spacing: 0.02em;
    }
    .role-badge.provider {
      background: rgba(56, 189, 248, 0.12);
      color: var(--provider);
      border: 1px solid rgba(56, 189, 248, 0.2);
    }
    .role-badge.consumer {
      background: rgba(251, 146, 60, 0.12);
      color: var(--consumer);
      border: 1px solid rgba(251, 146, 60, 0.2);
    }

    .port-info {
      font-size: 12px;
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      color: var(--muted);
      margin-left: auto;
    }

    /* ── Endpoint Card ── */
    .endpoint-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      margin-bottom: 16px;
      overflow: hidden;
      transition: border-color .2s;
    }
    .endpoint-card:hover {
      border-color: var(--border-2);
    }

    .endpoint-header {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px 20px;
      cursor: pointer;
      user-select: none;
      transition: background .15s;
    }
    .endpoint-header:hover {
      background: rgba(255,255,255,0.02);
    }

    .method-badge {
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      font-size: 12px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 6px;
      min-width: 56px;
      text-align: center;
      flex-shrink: 0;
      letter-spacing: 0.02em;
    }
    .method-badge.get    { background: rgba(52,211,153,0.15); color: var(--method-get); border: 1px solid rgba(52,211,153,0.25); }
    .method-badge.post   { background: rgba(96,165,250,0.15); color: var(--method-post); border: 1px solid rgba(96,165,250,0.25); }
    .method-badge.delete { background: rgba(248,113,113,0.15); color: var(--method-delete); border: 1px solid rgba(248,113,113,0.25); }

    .endpoint-path {
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      font-size: 13.5px;
      color: var(--text);
      word-break: break-all;
    }
    .endpoint-path .param {
      color: var(--warning);
    }

    .endpoint-desc {
      font-size: 13px;
      color: var(--text-2);
      margin-left: auto;
      white-space: nowrap;
      padding-left: 12px;
    }

    .endpoint-chevron {
      width: 18px;
      height: 18px;
      color: var(--muted);
      flex-shrink: 0;
      transition: transform .2s ease;
    }
    .endpoint-card.open .endpoint-chevron {
      transform: rotate(180deg);
    }

    .endpoint-body {
      display: none;
      padding: 0 20px 20px;
      border-top: 1px solid var(--border);
    }
    .endpoint-card.open .endpoint-body {
      display: block;
    }

    .endpoint-body-section {
      margin-top: 16px;
    }
    .endpoint-body-section:first-child {
      margin-top: 12px;
    }

    .body-label {
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .body-desc {
      font-size: 13.5px;
      color: var(--text-2);
      line-height: 1.6;
      margin-bottom: 4px;
    }

    /* ── Code Block ── */
    .code-block {
      position: relative;
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
    }

    .code-block-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 8px 14px;
      background: rgba(255,255,255,0.02);
      border-bottom: 1px solid var(--border);
    }

    .code-block-lang {
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      font-size: 11px;
      color: var(--muted);
    }

    .code-copy-btn {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 4px 10px;
      font-size: 11px;
      font-family: inherit;
      color: var(--text-2);
      background: var(--surface-2);
      border: 1px solid var(--border-2);
      border-radius: 5px;
      cursor: pointer;
      transition: color .15s, background .15s;
    }
    .code-copy-btn:hover {
      color: var(--text);
      background: var(--border-2);
    }
    .code-copy-btn svg { width: 13px; height: 13px; }

    .code-block pre {
      padding: 16px;
      overflow-x: auto;
      font-family: 'SF Mono', SFMono-Regular, Consolas, monospace;
      font-size: 13px;
      line-height: 1.65;
      color: var(--text);
    }
    .code-block pre::-webkit-scrollbar { height: 4px; }
    .code-block pre::-webkit-scrollbar-track { background: transparent; }
    .code-block pre::-webkit-scrollbar-thumb { background: var(--border-2); border-radius: 4px; }

    .jk { color: var(--json-key); }
    .js { color: var(--json-string); }
    .jt { color: var(--json-type); }
    .jp { color: var(--muted); }
    .jb { color: var(--text); }

    /* ── Responsive ── */
    @media (max-width: 1024px) {
      .sidebar { display: none; }
      .main { padding: 24px 20px 60px; }
    }

    @media (max-width: 640px) {
      .header { padding: 12px 16px; }
      .header-subtitle { display: none; }
      .main { padding: 20px 14px 40px; }
      .endpoint-header { flex-wrap: wrap; gap: 8px; padding: 12px 14px; }
      .endpoint-desc { margin-left: 0; white-space: normal; }
      .endpoint-body { padding: 0 14px 14px; }
    }
  </style>
</head>
<body>

  <!-- ── Header ── -->
  <header class="header">
    <a href="/apps/edc-connector" class="header-back" title="Zurueck">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 12H5"/>
        <path d="M12 19l-7-7 7-7"/>
      </svg>
    </a>
    <span class="header-title">API-Referenz</span>
    <span class="header-subtitle">EDC Management API v3</span>
  </header>

  <div class="layout">

    <!-- ── Sidebar ── -->
    <nav class="sidebar">

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Assets
          <span class="sidebar-role-badge provider">Provider</span>
        </div>
        <a href="#assets-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Assets abfragen
        </a>
        <a href="#assets-create" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Asset erstellen
        </a>
        <a href="#assets-delete" class="sidebar-link">
          <span class="sidebar-method delete">DEL</span>
          Asset loeschen
        </a>
      </div>

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Policies
          <span class="sidebar-role-badge provider">Provider</span>
        </div>
        <a href="#policies-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Policies abfragen
        </a>
        <a href="#policies-create" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Policy erstellen
        </a>
        <a href="#policies-delete" class="sidebar-link">
          <span class="sidebar-method delete">DEL</span>
          Policy loeschen
        </a>
      </div>

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Contract Defs
          <span class="sidebar-role-badge provider">Provider</span>
        </div>
        <a href="#contractdefs-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Contract Defs abfragen
        </a>
        <a href="#contractdefs-create" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Contract Def erstellen
        </a>
        <a href="#contractdefs-delete" class="sidebar-link">
          <span class="sidebar-method delete">DEL</span>
          Contract Def loeschen
        </a>
      </div>

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Catalog
          <span class="sidebar-role-badge consumer">Consumer</span>
        </div>
        <a href="#catalog-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Katalog abfragen
        </a>
      </div>

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Negotiations
          <span class="sidebar-role-badge consumer">Consumer</span>
        </div>
        <a href="#negotiations-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Verhandlungen abfragen
        </a>
        <a href="#negotiations-start" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Verhandlung starten
        </a>
        <a href="#negotiations-status" class="sidebar-link">
          <span class="sidebar-method get">GET</span>
          Status abfragen
        </a>
      </div>

      <div class="sidebar-group">
        <div class="sidebar-group-title">
          Transfers
          <span class="sidebar-role-badge consumer">Consumer</span>
        </div>
        <a href="#transfers-query" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Transfers abfragen
        </a>
        <a href="#transfers-start" class="sidebar-link">
          <span class="sidebar-method post">POST</span>
          Transfer starten
        </a>
        <a href="#transfers-edr" class="sidebar-link">
          <span class="sidebar-method get">GET</span>
          EDR abrufen
        </a>
      </div>

    </nav>

    <!-- ── Main Content ── -->
    <main class="main">

      <!-- Info Banner -->
      <div class="info-banner">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="10"/>
          <path d="M12 16v-4"/>
          <path d="M12 8h.01"/>
        </svg>
        <p>Alle Anfragen werden ueber den Proxy der Plattform geleitet. Die hier gezeigten Pfade sind relativ zur Management API.</p>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- ASSETS                                      -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-assets">
        <div class="section-heading">
          <h2>Assets</h2>
          <span class="role-badge provider">Provider</span>
          <span class="port-info">Port 19193</span>
        </div>

        <!-- POST /assets/request -->
        <div class="endpoint-card" id="assets-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/assets/request</span>
            <span class="endpoint-desc">Alle Assets abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt alle registrierten Assets des Providers zurueck. Der Body enthaelt eine leere QuerySpec.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"QuerySpec"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>[
  {
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"product-data-1"</span><span class="jp">,</span>
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"Asset"</span><span class="jp">,</span>
    <span class="jk">"properties"</span><span class="jp">:</span> {
      <span class="jk">"name"</span><span class="jp">:</span> <span class="js">"Produktdaten API"</span><span class="jp">,</span>
      <span class="jk">"contenttype"</span><span class="jp">:</span> <span class="js">"application/json"</span>
    }<span class="jp">,</span>
    <span class="jk">"dataAddress"</span><span class="jp">:</span> {
      <span class="jk">"type"</span><span class="jp">:</span> <span class="jt">"HttpData"</span><span class="jp">,</span>
      <span class="jk">"baseUrl"</span><span class="jp">:</span> <span class="js">"https://jsonplaceholder.typicode.com/todos/1"</span>
    }
  }
]</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- POST /assets -->
        <div class="endpoint-card" id="assets-create">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/assets</span>
            <span class="endpoint-desc">Asset erstellen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Erstellt ein neues Asset mit den angegebenen Eigenschaften und einer Data Address, die auf die Datenquelle verweist.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"product-data-1"</span><span class="jp">,</span>
  <span class="jk">"properties"</span><span class="jp">:</span> {
    <span class="jk">"name"</span><span class="jp">:</span> <span class="js">"Produktdaten API"</span><span class="jp">,</span>
    <span class="jk">"contenttype"</span><span class="jp">:</span> <span class="js">"application/json"</span>
  }<span class="jp">,</span>
  <span class="jk">"dataAddress"</span><span class="jp">:</span> {
    <span class="jk">"type"</span><span class="jp">:</span> <span class="jt">"HttpData"</span><span class="jp">,</span>
    <span class="jk">"baseUrl"</span><span class="jp">:</span> <span class="js">"https://jsonplaceholder.typicode.com/todos/1"</span>
  }
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"IdResponse"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"product-data-1"</span><span class="jp">,</span>
  <span class="jk">"createdAt"</span><span class="jp">:</span> <span class="jb">1709312400000</span>
}</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- DELETE /assets/{id} -->
        <div class="endpoint-card" id="assets-delete">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge delete">DELETE</span>
            <span class="endpoint-path">/management/v3/assets/<span class="param">{id}</span></span>
            <span class="endpoint-desc">Asset loeschen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Loescht das Asset mit der angegebenen ID. Schlaegt fehl, wenn das Asset in einer aktiven Contract Definition referenziert wird.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Path Parameter</div>
              <p class="body-desc"><code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">id</code> &mdash; Die ID des zu loeschenden Assets (z.B. <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">product-data-1</code>)</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">204</span></div>
              <p class="body-desc" style="color:var(--muted);font-style:italic;">Kein Inhalt</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- POLICY DEFINITIONS                          -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-policies">
        <div class="section-heading">
          <h2>Policy Definitions</h2>
          <span class="role-badge provider">Provider</span>
          <span class="port-info">Port 19193</span>
        </div>

        <!-- POST /policydefinitions/request -->
        <div class="endpoint-card" id="policies-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/policydefinitions/request</span>
            <span class="endpoint-desc">Alle Policies abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt alle registrierten Policy Definitions zurueck.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"QuerySpec"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>[
  {
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"PolicyDefinition"</span><span class="jp">,</span>
    <span class="jk">"policy"</span><span class="jp">:</span> {
      <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"Set"</span><span class="jp">,</span>
      <span class="jk">"permission"</span><span class="jp">:</span> []<span class="jp">,</span>
      <span class="jk">"prohibition"</span><span class="jp">:</span> []<span class="jp">,</span>
      <span class="jk">"obligation"</span><span class="jp">:</span> []
    }
  }
]</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- POST /policydefinitions -->
        <div class="endpoint-card" id="policies-create">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/policydefinitions</span>
            <span class="endpoint-desc">Policy erstellen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Erstellt eine neue Policy Definition. Das Beispiel zeigt eine offene Policy ohne Einschraenkungen (Open Policy).</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span><span class="jp">,</span>
    <span class="jk">"odrl"</span><span class="jp">:</span> <span class="js">"http://www.w3.org/ns/odrl/2/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
  <span class="jk">"policy"</span><span class="jp">:</span> {
    <span class="jk">"@context"</span><span class="jp">:</span> <span class="js">"http://www.w3.org/ns/odrl.jsonld"</span><span class="jp">,</span>
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"Set"</span><span class="jp">,</span>
    <span class="jk">"permission"</span><span class="jp">:</span> []<span class="jp">,</span>
    <span class="jk">"prohibition"</span><span class="jp">:</span> []<span class="jp">,</span>
    <span class="jk">"obligation"</span><span class="jp">:</span> []
  }
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"IdResponse"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
  <span class="jk">"createdAt"</span><span class="jp">:</span> <span class="jb">1709312400000</span>
}</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- DELETE /policydefinitions/{id} -->
        <div class="endpoint-card" id="policies-delete">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge delete">DELETE</span>
            <span class="endpoint-path">/management/v3/policydefinitions/<span class="param">{id}</span></span>
            <span class="endpoint-desc">Policy loeschen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Loescht die Policy Definition mit der angegebenen ID.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Path Parameter</div>
              <p class="body-desc"><code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">id</code> &mdash; Die ID der zu loeschenden Policy (z.B. <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">open-policy-1</code>)</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">204</span></div>
              <p class="body-desc" style="color:var(--muted);font-style:italic;">Kein Inhalt</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- CONTRACT DEFINITIONS                        -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-contractdefs">
        <div class="section-heading">
          <h2>Contract Definitions</h2>
          <span class="role-badge provider">Provider</span>
          <span class="port-info">Port 19193</span>
        </div>

        <!-- POST /contractdefinitions/request -->
        <div class="endpoint-card" id="contractdefs-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/contractdefinitions/request</span>
            <span class="endpoint-desc">Alle Contract Defs abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt alle registrierten Contract Definitions zurueck.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"QuerySpec"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>[
  {
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"contract-def-1"</span><span class="jp">,</span>
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"ContractDefinition"</span><span class="jp">,</span>
    <span class="jk">"accessPolicyId"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
    <span class="jk">"contractPolicyId"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
    <span class="jk">"assetsSelector"</span><span class="jp">:</span> []
  }
]</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- POST /contractdefinitions -->
        <div class="endpoint-card" id="contractdefs-create">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/contractdefinitions</span>
            <span class="endpoint-desc">Contract Def erstellen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Erstellt eine neue Contract Definition, die eine Access Policy, eine Contract Policy und optionale Asset-Selektoren verbindet.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"contract-def-1"</span><span class="jp">,</span>
  <span class="jk">"accessPolicyId"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
  <span class="jk">"contractPolicyId"</span><span class="jp">:</span> <span class="js">"open-policy-1"</span><span class="jp">,</span>
  <span class="jk">"assetsSelector"</span><span class="jp">:</span> []
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"IdResponse"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"contract-def-1"</span><span class="jp">,</span>
  <span class="jk">"createdAt"</span><span class="jp">:</span> <span class="jb">1709312400000</span>
}</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- DELETE /contractdefinitions/{id} -->
        <div class="endpoint-card" id="contractdefs-delete">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge delete">DELETE</span>
            <span class="endpoint-path">/management/v3/contractdefinitions/<span class="param">{id}</span></span>
            <span class="endpoint-desc">Contract Def loeschen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Loescht die Contract Definition mit der angegebenen ID.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Path Parameter</div>
              <p class="body-desc"><code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">id</code> &mdash; Die ID der zu loeschenden Contract Definition (z.B. <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">contract-def-1</code>)</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">204</span></div>
              <p class="body-desc" style="color:var(--muted);font-style:italic;">Kein Inhalt</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- CATALOG                                     -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-catalog">
        <div class="section-heading">
          <h2>Catalog</h2>
          <span class="role-badge consumer">Consumer</span>
          <span class="port-info">Port 29193</span>
        </div>

        <!-- POST /catalog/request -->
        <div class="endpoint-card" id="catalog-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/catalog/request</span>
            <span class="endpoint-desc">Katalog abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Fragt den Katalog eines Providers ab. Der Consumer erhaelt alle verfuegbaren Angebote (Offers) einschliesslich der zugehoerigen Policies.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"counterPartyAddress"</span><span class="jp">:</span> <span class="js">"http://provider:19194/protocol"</span><span class="jp">,</span>
  <span class="jk">"protocol"</span><span class="jp">:</span> <span class="js">"dataspace-protocol-http"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"dcat:Catalog"</span><span class="jp">,</span>
  <span class="jk">"dcat:dataset"</span><span class="jp">:</span> [
    {
      <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"product-data-1"</span><span class="jp">,</span>
      <span class="jk">"odrl:hasPolicy"</span><span class="jp">:</span> {
        <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;offerId&gt;"</span><span class="jp">,</span>
        <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"Offer"</span><span class="jp">,</span>
        <span class="jk">"odrl:permission"</span><span class="jp">:</span> []<span class="jp">,</span>
        <span class="jk">"odrl:prohibition"</span><span class="jp">:</span> []<span class="jp">,</span>
        <span class="jk">"odrl:obligation"</span><span class="jp">:</span> []
      }
    }
  ]
}</pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- CONTRACT NEGOTIATIONS                       -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-negotiations">
        <div class="section-heading">
          <h2>Contract Negotiations</h2>
          <span class="role-badge consumer">Consumer</span>
          <span class="port-info">Port 29193</span>
        </div>

        <!-- POST /contractnegotiations/request -->
        <div class="endpoint-card" id="negotiations-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/contractnegotiations/request</span>
            <span class="endpoint-desc">Alle Verhandlungen abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt alle Contract Negotiations des Consumers zurueck, einschliesslich Status und Agreement-ID.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"QuerySpec"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>[
  {
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"ContractNegotiation"</span><span class="jp">,</span>
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;negotiationId&gt;"</span><span class="jp">,</span>
    <span class="jk">"state"</span><span class="jp">:</span> <span class="js">"FINALIZED"</span><span class="jp">,</span>
    <span class="jk">"contractAgreementId"</span><span class="jp">:</span> <span class="js">"&lt;agreementId&gt;"</span>
  }
]</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- POST /contractnegotiations -->
        <div class="endpoint-card" id="negotiations-start">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/contractnegotiations</span>
            <span class="endpoint-desc">Verhandlung starten</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Startet eine Contract Negotiation mit dem Provider. Die <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">&lt;offerId&gt;</code> stammt aus der Katalogabfrage. Bei Erfolg wechselt der Status zu <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--success)">FINALIZED</code>.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"ContractRequest"</span><span class="jp">,</span>
  <span class="jk">"counterPartyAddress"</span><span class="jp">:</span> <span class="js">"http://provider:19194/protocol"</span><span class="jp">,</span>
  <span class="jk">"protocol"</span><span class="jp">:</span> <span class="js">"dataspace-protocol-http"</span><span class="jp">,</span>
  <span class="jk">"policy"</span><span class="jp">:</span> {
    <span class="jk">"@context"</span><span class="jp">:</span> <span class="js">"http://www.w3.org/ns/odrl.jsonld"</span><span class="jp">,</span>
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;offerId&gt;"</span><span class="jp">,</span>
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"Offer"</span><span class="jp">,</span>
    <span class="jk">"assigner"</span><span class="jp">:</span> <span class="js">"provider"</span><span class="jp">,</span>
    <span class="jk">"target"</span><span class="jp">:</span> <span class="js">"product-data-1"</span>
  }
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"IdResponse"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;negotiationId&gt;"</span><span class="jp">,</span>
  <span class="jk">"createdAt"</span><span class="jp">:</span> <span class="jb">1709312400000</span>
}</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- GET /contractnegotiations/{id} -->
        <div class="endpoint-card" id="negotiations-status">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge get">GET</span>
            <span class="endpoint-path">/management/v3/contractnegotiations/<span class="param">{id}</span></span>
            <span class="endpoint-desc">Verhandlungsstatus abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt den aktuellen Status einer Contract Negotiation zurueck. Moegliche States: <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">REQUESTED</code>, <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">AGREED</code>, <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--success)">FINALIZED</code>, <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--danger)">TERMINATED</code>.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Path Parameter</div>
              <p class="body-desc"><code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">id</code> &mdash; Die Negotiation-ID aus der Antwort beim Starten der Verhandlung</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"ContractNegotiation"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;negotiationId&gt;"</span><span class="jp">,</span>
  <span class="jk">"state"</span><span class="jp">:</span> <span class="js">"FINALIZED"</span><span class="jp">,</span>
  <span class="jk">"counterPartyAddress"</span><span class="jp">:</span> <span class="js">"http://provider:19194/protocol"</span><span class="jp">,</span>
  <span class="jk">"contractAgreementId"</span><span class="jp">:</span> <span class="js">"&lt;agreementId&gt;"</span>
}</pre>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════ -->
      <!-- TRANSFER PROCESSES                          -->
      <!-- ═══════════════════════════════════════════ -->
      <div class="section" id="section-transfers">
        <div class="section-heading">
          <h2>Transfer Processes</h2>
          <span class="role-badge consumer">Consumer</span>
          <span class="port-info">Port 29193</span>
        </div>

        <!-- POST /transferprocesses/request -->
        <div class="endpoint-card" id="transfers-query">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/transferprocesses/request</span>
            <span class="endpoint-desc">Alle Transfers abfragen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt alle Transfer Processes des Consumers zurueck.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"QuerySpec"</span>
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>[
  {
    <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"TransferProcess"</span><span class="jp">,</span>
    <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;transferId&gt;"</span><span class="jp">,</span>
    <span class="jk">"state"</span><span class="jp">:</span> <span class="js">"STARTED"</span><span class="jp">,</span>
    <span class="jk">"contractAgreementId"</span><span class="jp">:</span> <span class="js">"&lt;agreementId&gt;"</span>
  }
]</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- POST /transferprocesses -->
        <div class="endpoint-card" id="transfers-start">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge post">POST</span>
            <span class="endpoint-path">/management/v3/transferprocesses</span>
            <span class="endpoint-desc">Transfer starten</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Startet einen Datentransfer basierend auf einem abgeschlossenen Contract Agreement. Die <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">&lt;agreementId&gt;</code> stammt aus der finalisierten Verhandlung. Bei <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px">HttpData-PULL</code> werden die Daten ueber einen EDR (Endpoint Data Reference) bereitgestellt.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Request Body</div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@context"</span><span class="jp">:</span> {
    <span class="jk">"@vocab"</span><span class="jp">:</span> <span class="js">"https://w3id.org/edc/v0.0.1/ns/"</span>
  }<span class="jp">,</span>
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"TransferRequest"</span><span class="jp">,</span>
  <span class="jk">"counterPartyAddress"</span><span class="jp">:</span> <span class="js">"http://provider:19194/protocol"</span><span class="jp">,</span>
  <span class="jk">"protocol"</span><span class="jp">:</span> <span class="js">"dataspace-protocol-http"</span><span class="jp">,</span>
  <span class="jk">"contractId"</span><span class="jp">:</span> <span class="js">"&lt;agreementId&gt;"</span><span class="jp">,</span>
  <span class="jk">"assetId"</span><span class="jp">:</span> <span class="js">"product-data-1"</span><span class="jp">,</span>
  <span class="jk">"transferType"</span><span class="jp">:</span> <span class="jt">"HttpData-PULL"</span><span class="jp">,</span>
  <span class="jk">"dataDestination"</span><span class="jp">:</span> {
    <span class="jk">"type"</span><span class="jp">:</span> <span class="jt">"HttpProxy"</span>
  }
}</pre>
              </div>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"IdResponse"</span><span class="jp">,</span>
  <span class="jk">"@id"</span><span class="jp">:</span> <span class="js">"&lt;transferId&gt;"</span><span class="jp">,</span>
  <span class="jk">"createdAt"</span><span class="jp">:</span> <span class="jb">1709312400000</span>
}</pre>
              </div>
            </div>
          </div>
        </div>

        <!-- GET /edrs/{transferId}/dataaddress -->
        <div class="endpoint-card" id="transfers-edr">
          <div class="endpoint-header" onclick="toggleCard(this)">
            <span class="method-badge get">GET</span>
            <span class="endpoint-path">/management/v3/edrs/<span class="param">{transferId}</span>/dataaddress</span>
            <span class="endpoint-desc">EDR/Daten abrufen</span>
            <svg class="endpoint-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 9l6 6 6-6"/></svg>
          </div>
          <div class="endpoint-body">
            <div class="endpoint-body-section">
              <div class="body-label">Beschreibung</div>
              <p class="body-desc">Gibt den Endpoint Data Reference (EDR) fuer einen gestarteten Transfer zurueck. Die <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">endpoint</code> URL und das <code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">authorization</code> Token werden verwendet, um die eigentlichen Daten abzurufen.</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Path Parameter</div>
              <p class="body-desc"><code style="background:var(--surface-2);padding:2px 7px;border-radius:4px;font-family:'SF Mono',SFMono-Regular,Consolas,monospace;font-size:12.5px;color:var(--warning)">transferId</code> &mdash; Die Transfer-ID aus der Antwort beim Starten des Transfers</p>
            </div>
            <div class="endpoint-body-section">
              <div class="body-label">Response <span style="color:var(--success)">200</span></div>
              <div class="code-block">
                <div class="code-block-header">
                  <span class="code-block-lang">JSON</span>
                  <button class="code-copy-btn" onclick="copyCode(this)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
                    Kopieren
                  </button>
                </div>
                <pre>{
  <span class="jk">"@type"</span><span class="jp">:</span> <span class="jt">"DataAddress"</span><span class="jp">,</span>
  <span class="jk">"type"</span><span class="jp">:</span> <span class="jt">"https://w3id.org/idsa/v4.1/HTTP"</span><span class="jp">,</span>
  <span class="jk">"endpoint"</span><span class="jp">:</span> <span class="js">"http://provider:19291/public/"</span><span class="jp">,</span>
  <span class="jk">"authorization"</span><span class="jp">:</span> <span class="js">"&lt;jwt-token&gt;"</span>
}</pre>
              </div>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script>
    /* ── Toggle endpoint cards ── */
    function toggleCard(header) {
      const card = header.closest('.endpoint-card');
      card.classList.toggle('open');
    }

    /* ── Copy code to clipboard ── */
    function copyCode(btn) {
      const pre = btn.closest('.code-block').querySelector('pre');
      const text = pre.textContent;
      navigator.clipboard.writeText(text).then(() => {
        const original = btn.innerHTML;
        btn.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width:13px;height:13px"><path d="M20 6L9 17l-5-5"/></svg> Kopiert';
        btn.style.color = 'var(--success)';
        setTimeout(() => {
          btn.innerHTML = original;
          btn.style.color = '';
        }, 1500);
      });
    }

    /* ── Sidebar active state on scroll ── */
    (function() {
      const links = document.querySelectorAll('.sidebar-link');
      const cards = [];
      links.forEach(link => {
        const id = link.getAttribute('href')?.replace('#', '');
        if (id) {
          const el = document.getElementById(id);
          if (el) cards.push({ el, link });
        }
      });

      function updateActive() {
        let current = null;
        const scrollY = window.scrollY + 120;
        for (const { el, link } of cards) {
          if (el.offsetTop <= scrollY) {
            current = link;
          }
        }
        links.forEach(l => l.classList.remove('active'));
        if (current) current.classList.add('active');
      }

      window.addEventListener('scroll', updateActive, { passive: true });
      updateActive();
    })();
  </script>

</body>
</html>